Decoration.
ПРОТЕСТИРУЙ ВСЕ.
Убрать сессии из моделей.
Решить вопрос с кешем касаемо категорий и вообще